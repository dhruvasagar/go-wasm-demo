<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ WebAssembly in Go: Bridging Web and Backend</title>
    <link rel="stylesheet" href="assets/css/shared.css">
    <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
    <div class="container">
        <h1>üöÄ WebAssembly in Go: Bridging Web and Backend</h1>
        <p class="subtitle">Experience the power of shared business logic between frontend and backend</p>
        
        <div class="highlight">
            <strong>üéØ Key Demonstration:</strong> The exact same Go code that validates data, calculates prices, and processes orders on your server runs seamlessly in your browser via WebAssembly. Write once, deploy everywhere!
        </div>

        <div class="section">
            <h2>üèóÔ∏è Shared Business Logic Demo</h2>
            <p>These forms demonstrate <strong>identical business logic</strong> running both client-side (WebAssembly) and server-side (HTTP API). The same Go functions validate your input in both environments!</p>
            
            <div class="demo-grid">
                <div class="demo-panel">
                    <h3>üë§ User Validation</h3>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" id="userEmail" placeholder="user@example.com">
                    </div>
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" id="userName" placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label>Age:</label>
                        <input type="number" id="userAge" placeholder="25">
                    </div>
                    <div class="form-group">
                        <label>Country:</label>
                        <select id="userCountry">
                            <option value="">Select...</option>
                            <option value="US">United States</option>
                            <option value="CA">Canada</option>
                            <option value="UK">United Kingdom</option>
                            <option value="DE">Germany</option>
                            <option value="FR">France</option>
                            <option value="JP">Japan</option>
                            <option value="AU">Australia</option>
                            <option value="IN">India</option>
                            <option value="BR">Brazil</option>
                            <option value="MX">Mexico</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="userPremium"> Premium Member
                        </label>
                    </div>
                    <button onclick="validateUserWasmButton()">
                        <span class="badge wasm">WASM</span> Validate Client-Side
                    </button>
                    <button class="server" onclick="validateUserServer()">
                        <span class="badge server">API</span> Validate Server-Side
                    </button>
                    <div id="userResults" class="results"></div>
                </div>
                
                <div class="demo-panel">
                    <h3>üì¶ Product Validation</h3>
                    <div class="form-group">
                        <label>Product Name:</label>
                        <input type="text" id="productName" placeholder="Awesome Product">
                    </div>
                    <div class="form-group">
                        <label>Price ($):</label>
                        <input type="number" step="0.01" id="productPrice" placeholder="99.99">
                    </div>
                    <div class="form-group">
                        <label>Category:</label>
                        <select id="productCategory">
                            <option value="">Select...</option>
                            <option value="electronics">Electronics</option>
                            <option value="clothing">Clothing</option>
                            <option value="books">Books</option>
                            <option value="home">Home</option>
                            <option value="sports">Sports</option>
                            <option value="toys">Toys</option>
                            <option value="beauty">Beauty</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Rating (0-5):</label>
                        <input type="number" step="0.1" min="0" max="5" id="productRating" placeholder="4.5">
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="productInStock" checked> In Stock
                        </label>
                    </div>
                    <button onclick="validateProductWasmButton()">
                        <span class="badge wasm">WASM</span> Validate Client-Side
                    </button>
                    <button class="server" onclick="validateProductServer()">
                        <span class="badge server">API</span> Validate Server-Side
                    </button>
                    <div id="productResults" class="results"></div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üßÆ Advanced Business Logic: Order Calculator</h2>
            <p>This demonstrates complex pricing logic with country-specific tax rates, premium discounts, and shipping calculations - all running identically on client and server!</p>
            
            <div class="demo-grid">
                <div class="demo-panel">
                    <h3>üõí Order Details</h3>
                    <div class="form-group">
                        <label>Products in Cart:</label>
                        <textarea id="orderProducts" rows="4" placeholder='[{"id":1,"name":"Laptop","price":999.99,"category":"electronics"}]'>
[
  {"id": 1, "name": "Wireless Headphones", "price": 99.99, "category": "electronics"},
  {"id": 2, "name": "Cotton T-Shirt", "price": 24.99, "category": "clothing"}
]</textarea>
                    </div>
                    <div class="form-group">
                        <label>Quantities:</label>
                        <input type="text" id="orderQuantities" placeholder="[1, 2]" value="[1, 2]">
                    </div>
                    <button onclick="calculateOrderWasmButton()">
                        <span class="badge wasm">WASM</span> Calculate Client-Side
                    </button>
                    <button class="server" onclick="calculateOrderServer()">
                        <span class="badge server">API</span> Calculate Server-Side
                    </button>
                    <div id="orderResults" class="results"></div>
                </div>
                
                <div class="demo-panel">
                    <h3>üéØ Product Recommendations</h3>
                    <p>Advanced recommendation algorithm using user demographics and purchase patterns:</p>
                    <button onclick="getRecommendationsWasmButton()">
                        <span class="badge wasm">WASM</span> Get Recommendations (Client)
                    </button>
                    <button class="server" onclick="getRecommendationsServer()">
                        <span class="badge server">API</span> Get Recommendations (Server)
                    </button>
                    <div id="recommendationResults" class="results"></div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>‚ö° Performance Benchmarks: JavaScript vs WASM vs Concurrent WASM</h2>
            <p>Compare the performance of complex algorithms across three implementations:</p>
            <div class="highlight">
                <strong>üéØ Three-Way Comparison:</strong><br>
                ‚Ä¢ <span class="badge" style="background: #f39c12;">JavaScript</span> - Optimized JS implementation<br>
                ‚Ä¢ <span class="badge" style="background: #3498db;">WASM Single</span> - Single-threaded WebAssembly<br>
                ‚Ä¢ <span class="badge" style="background: #27ae60;">WASM Concurrent</span> - Multi-threaded WebAssembly with Go routines
            </div>
            
            <div class="benchmark-section">
                <div class="benchmark-card">
                    <h4>üî¢ Matrix Multiplication</h4>
                    <p>Intensive mathematical computation showcasing concurrency benefits</p>
                    <div class="form-group">
                        <label>Matrix Size:</label>
                        <select id="matrixSize">
                            <option value="50">50x50 (Quick)</option>
                            <option value="100" selected>100x100 (Medium)</option>
                            <option value="200">200x200 (Large)</option>
                            <option value="300">300x300 (Extra Large)</option>
                        </select>
                    </div>
                    <button onclick="benchmarkMatrixComprehensive()">üöÄ Run 3-Way Benchmark</button>
                    <div id="matrixResults" class="results"></div>
                    <div class="performance-comparison" id="matrixComparison"></div>
                </div>
                
                <div class="benchmark-card">
                    <h4>üé® Mandelbrot Set Generation</h4>
                    <p>Parallel-friendly fractal computation ideal for concurrency</p>
                    <div class="form-group">
                        <label>Resolution:</label>
                        <select id="mandelbrotSize">
                            <option value="400,300">400x300 (Quick)</option>
                            <option value="800,600" selected>800x600 (Medium)</option>
                            <option value="1200,900">1200x900 (Large)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Max Iterations:</label>
                        <select id="mandelbrotIterations">
                            <option value="100">100 (Fast)</option>
                            <option value="200" selected>200 (Standard)</option>
                            <option value="300">300 (High Quality)</option>
                        </select>
                    </div>
                    <button onclick="benchmarkMandelbrotComprehensive()">üöÄ Run 3-Way Benchmark</button>
                    <div id="mandelbrotResults" class="results"></div>
                    <div class="performance-comparison" id="mandelbrotComparison"></div>
                </div>
                
                <div class="benchmark-card">
                    <h4>üîê Hash Computation</h4>
                    <p>Parallel batch processing demonstration</p>
                    <div class="form-group">
                        <label>Iterations:</label>
                        <select id="hashCount">
                            <option value="1000">1,000 (Quick)</option>
                            <option value="10000" selected>10,000 (Medium)</option>
                            <option value="50000">50,000 (Large)</option>
                            <option value="100000">100,000 (Stress Test)</option>
                        </select>
                    </div>
                    <button onclick="benchmarkHashComprehensive()">üöÄ Run 3-Way Benchmark</button>
                    <div id="hashResults" class="results"></div>
                    <div class="performance-comparison" id="hashComparison"></div>
                </div>

                <div class="benchmark-card">
                    <h4>üé≠ Ray Tracing (Bonus)</h4>
                    <p>Graphics rendering with concurrent tile processing</p>
                    <div class="form-group">
                        <label>Resolution:</label>
                        <select id="rayTracingSize">
                            <option value="200,150">200x150 (Quick)</option>
                            <option value="400,300" selected>400x300 (Medium)</option>
                            <option value="800,600">800x600 (Large)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Samples per Pixel:</label>
                        <select id="rayTracingSamples">
                            <option value="4">4 (Fast)</option>
                            <option value="8" selected>8 (Standard)</option>
                            <option value="16">16 (High Quality)</option>
                        </select>
                    </div>
                    <button onclick="benchmarkRayTracingComprehensive()">üöÄ Run 3-Way Benchmark</button>
                    <div id="rayTracingResults" class="results"></div>
                    <div class="performance-comparison" id="rayTracingComparison"></div>
                </div>
            </div>

            <div class="highlight" style="margin-top: 30px;">
                <strong>üí° Performance Insights:</strong><br>
                ‚Ä¢ <strong>Concurrent WASM</strong> excels with CPU-intensive, parallelizable workloads<br>
                ‚Ä¢ <strong>Single WASM</strong> provides consistent 2-5x speedup over JavaScript<br>
                ‚Ä¢ <strong>JavaScript</strong> remains competitive for small datasets and I/O operations<br>
                ‚Ä¢ The larger the dataset, the more concurrent WASM dominates!
            </div>

            <div class="highlight" style="margin-top: 20px; text-align: center;">
                <p><strong>üöÄ Want more comprehensive performance tests?</strong></p>
                <a href="performance_benchmarks.html" style="display: inline-block; margin-top: 10px; text-decoration: none; background: linear-gradient(45deg, #4CAF50, #45a049); color: white; padding: 12px 24px; border-radius: 8px; font-weight: bold; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(0,0,0,0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.2)'">
                    üìä View Full Performance Benchmark Suite
                </a>
                <p style="margin-top: 10px; color: #666;">Compare JavaScript vs Single-Thread WASM vs Concurrent WASM across all algorithms</p>
            </div>
        </div>

        <div class="section">
            <h2>üéØ Key Benefits Demonstrated</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üìù Single Source of Truth</h4>
                    <p>Business rules defined once in Go, enforced identically on both client and server. No more synchronization issues!</p>
                </div>
                <div class="feature-card">
                    <h4>‚ö° Near-Native Performance</h4>
                    <p>WebAssembly delivers 2-10x performance improvements for computational tasks compared to JavaScript.</p>
                </div>
                <div class="feature-card">
                    <h4>üîí Type Safety</h4>
                    <p>Go's strong typing system prevents runtime errors and ensures consistent behavior across environments.</p>
                </div>
                <div class="feature-card">
                    <h4>üõ†Ô∏è Better Development Experience</h4>
                    <p>Write, test, and debug business logic in Go's excellent development environment, then deploy everywhere.</p>
                </div>
                <div class="feature-card">
                    <h4>üí® Instant User Feedback</h4>
                    <p>Client-side validation provides immediate feedback without server round trips, improving user experience.</p>
                </div>
                <div class="feature-card">
                    <h4>üì± Offline Capability</h4>
                    <p>Critical business logic runs offline in the browser, enabling PWAs and disconnected scenarios.</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üîß How It Works</h2>
            <div class="highlight">
                <p><strong>Compilation Process:</strong></p>
                <ol>
                    <li><code>shared_models.go</code> contains business logic used by both environments</li>
                    <li><code>GOOS=js GOARCH=wasm go build</code> compiles Go to WebAssembly</li>
                    <li><code>go build</code> compiles the same logic for server deployment</li>
                    <li>Both versions use identical validation, calculation, and processing functions</li>
                </ol>
            </div>
        </div>
    </div>

    <script src="wasm_exec.js"></script>
    <script src="assets/js/shared-utils.js"></script>
    <script src="assets/js/shared-benchmarks.js"></script>
    <script src="assets/js/benchmarks_optimized.js?v=2"></script>
    <script src="assets/js/main.js?v=4"></script>
</body>
</html>
